query EventsListing($siteId: [QueryArgument], $category: [QueryArgument], $tag: [QueryArgument], $before: String, $after: String, $search: String, $limit: Int, $offset: Int) {
    total: entryCount(section: "events", siteId: $siteId, blogCategories: $category, blogTags: $tag, before: $before, after: $after, search: $search)
    entries(section: "events", siteId: $siteId, blogCategories: $category, blogTags: $tag, before: $before, after: $after, search: $search, limit: $limit, offset: $offset, orderBy: "postDate desc") {
        ... on events_default_Entry {
            ...listingEvent
        }
        ... on events_external_Entry {
            ...listingExternalEvent
        }
    }
}

fragment thumbnailImage on AssetInterface {
    url(transform: "size360x270")
    srcset(sizes: ["580"])
}

